<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Meta for mobile/PWA -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>LifeLine</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/suncalc/suncalc.js"></script>
</head>
<body>

  <!-- HEADER -->
  <header class="app-header">
    <img src="images/lifeline-logo.png" alt="LifeLine" class="app-logo">
  </header>

  <!-- TOOLS GRID VIEW -->
  <section id="toolsView" class="view active">
    <h2>Survival Tools</h2>
    <div class="tool-grid">
      <button data-tool="compass" class="tool-card">🧭<span>Compass</span></button>
      <button data-tool="converter" class="tool-card">📏<span>Unit Converter</span></button>
      <button data-tool="morse" class="tool-card">• --<span>Morse Code</span></button>
      <button data-tool="sos" class="tool-card">🚨<span>SOS</span></button>
      <button data-tool="cpr" class="tool-card">❤️<span>CPR Timer</span></button>
      <button data-tool="sun" class="tool-card">☀️<span>Sun Times</span></button>
      <button data-tool="water" class="tool-card">💧<span>Water Calc</span></button>
      <button data-tool="knots" class="tool-card">🪢<span>Knots</span></button>
      <button data-tool="map" class="tool-card">🗺️<span>Offline Map</span></button>
      <button data-tool="whistle" class="tool-card">📢<span>Whistle</span></button>
      <button data-tool="flashlight" class="tool-card">🔦<span>Flashlight</span></button>
      <button data-tool="weather" class="tool-card">🌦️<span>Weather</span></button>
      <button data-tool="firstaid" class="tool-card">⛑️<span>First Aid</span></button>
      <button data-tool="fire" class="tool-card">🔥<span>Fire Starting</span></button>
      <button data-tool="shelter" class="tool-card">🏕️<span>Shelter</span></button>
      <button data-tool="plants" class="tool-card">🌿<span>Edible Plants</span></button>
    </div>
  </section>

  <!-- TOOL SECTIONS -->
  <section id="tool-compass" class="view">
    <h2>Compass</h2>
    <button class="back-btn">⬅ Back to Tools</button>
    <button id="enableCompass">Enable Compass</button>
    <div class="compass">
      <div id="compassDial" class="dial"></div>
      <div id="compassHeading" class="heading">0°</div>
    </div>
  </section>

  <section id="tool-converter" class="view">
    <h2>Unit Converter</h2>
    <button class="back-btn">⬅ Back to Tools</button>
    <select id="convertType">
      <option value="length">Length</option>
      <option value="weight">Weight</option>
      <option value="temp">Temperature</option>
    </select>
    <input type="number" id="convertInput" placeholder="Enter value">
    <button id="convertBtn">Convert</button>
    <div id="convertResult"></div>
  </section>

  <section id="tool-morse" class="view">
    <h2>Morse Code Translator</h2>
    <button class="back-btn">⬅ Back to Tools</button>
    <textarea id="morseInput" placeholder="Enter text or Morse code"></textarea>
    <button id="morseEncode">Encode</button>
    <button id="morseDecode">Decode</button>
    <button id="morsePlay">Play</button>
    <div id="morseOutput"></div>
  </section>

  <section id="tool-sos" class="view">
    <h2>SOS Signal</h2>
    <button class="back-btn">⬅ Back to Tools</button>
    <button id="sosStart">Start SOS</button>
    <button id="sosStop">Stop SOS</button>
    <div id="sosStatus"></div>
  </section>

  <!-- Repeat same pattern for all other tools... -->
  <!-- Example: CPR Timer -->
  <section id="tool-cpr" class="view">
    <h2>CPR Timer</h2>
    <button class="back-btn">⬅ Back to Tools</button>
    <button id="cprStart">Start</button>
    <div id="cprCountdown">Ready</div>
  </section>

  <!-- ... Add other tool sections here exactly as your current setup, just inside <section> with back button -->

  <!-- FOOTER NAV -->
  <nav class="bottom-nav">
    <a href="#toolsView" id="navTools">Tools</a>
    <a href="#settings">Settings</a>
    <a href="#about">About</a>
  </nav>

  <script src="app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').then(() => {
        console.log('Service Worker registered.');
      });
    }
  </script>
</body>
</html>